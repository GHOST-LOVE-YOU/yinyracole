---
title: Side Effects
description: Side Effects
---

在我们构建应用程序时，常常需要与外部系统进行同步。这可能包括以下事项：

- 进行网络请求
- 管理超时 / 间隔
- 从 localStorage 读取/写入
- 监听全局事件

React 将所有这些称为“副作用(side effects)”。在接下来的课程中，我们将学习如何在我们的 React 应用程序中有效地使用副作用(side effects)。

## 关于“最佳实践”

所以，有件事：effects是很难的。它们是现代 React 中最困难的事情之一。而且我们常常会觉得自己做错了，没遵循最佳实践。

我对此有一些想法。

<Accordions>

<Accordion type='info' title='视频摘要' >

2014 年，我和一个朋友在吃午餐。

我刚刚开始我的第一份开发工作，在一家非常小的公司：只有我和另一位开发人员。我们都很新，对自己在做什么也不太了解。

我见面的朋友在 Twitter 担任软件工程师已经工作了几年。我在校园里与她见面吃午饭。那时，Twitter 被视为一颗冉冉升起的明星，他们拥有所有典型的硅谷福利。他们的自助餐厅有名厨，表演刀技，准备我见过的最美味的食物。

所以在这个令人惊叹的广场上， surrounded by world-class engineers，我们坐下来吃饭，我开始告诉我的朋友我的工作：还不错，但我并不真的知道自己在做什么。感觉就像我只是在把一些东西拼凑在一起。我一点也不确定自己这样做是否正确。

我的朋友看着我，说：“这就是每个人的感受。这就是推特的情况。我们都不知道自己在做什么，我们只是用胶带把东西粘在一起，希望它们能坚持住。”

“在你的旅程中，没有一个时刻你会达到专家级别，写出的每一行代码都是完美的，每一个最佳实践都自然而然地来到你身边。这并不是事情的真实运作方式。”

果然，快十年后，我可以确认她是对的。😅

几年前，我为一家名为 Khan Academy 的公司工作。Khan Academy 在 React 社区中因是最早采用 React 的非 Facebook 组织之一而受到关注。一个名叫 Sophie Alpert<abbr title="如果你对这个名字感到熟悉, 那是因为他后来成为了react core 的知名工程师">\*</abbr> 的工程师在正式宣布之前，已经开始将代码库从 Backbone 迁移到 React。

所以，当我加入可汗学院时，我有点想当然地认为这里会是一个堡垒，拥有我见过的最好的 React 代码，所有最佳实践都被整齐地遵循……但事实并非如此。我们所做的与既定的“最佳实践”之间有很大的差距。

然而，可汗学院作为一个平台运作得非常好。虽然某些决策确实对开发者的生产力有一些影响，但总体而言，我们是一个高效的团队，完成了任务，打造了一个优秀的产品。

这让我想知道：如果我们不遵循所有最佳实践，会造成多少伤害？

基于现代钩子的 React 很棘手。有很多最佳实践，而这些实践很难遵循。例如，如果你在 Twitter 上分享你的 useEffect 代码，你很可能会听到许多出于好意且非常聪明的人告诉你你做错了。

这种建议常常让人感到不知所措，仿佛不可能找到完美的解决方案或做到正确的事情。我认为有时我们对这些建议过于认真。

我在 2020 年初开始了这个课程平台，几个月后 hooks 发布。当时，我们都不知道如何使用 hooks，我们都是边走边摸索。现在回头看几年前的代码，我感到很尴尬。它没有遵循我在这个 React 课程中教授的任何最佳实践！

然而，这个平台似乎运作得相当不错。用户无法看到代码有多凌乱。

明确来说，我并不是想说“最佳实践”不重要。我们应该始终努力变得更好，遵循最佳实践确实有帮助。但后果并不是生死攸关的。你不应该因为编写不符合所有最佳实践的代码而感到羞愧或内疚。

最终，我们都在学习，最重要的是我们始终在进步。如果我们到达那种程度，看着几年前写的代码而一点也不觉得尴尬，那就是个问题，因为这意味着我们正在停滞不前。

所以：要对自己有耐心，要宽容对待自己，别忘了享受乐趣！

</Accordion>

</Accordions>

<Callout type='warn' title='冻结的代码编辑器'>

在这个课程平台上，您对代码编辑器所做的更改会自动保存。这通常是件好事，但在某些情况下可能会引发问题！

在接下来的课程中，你将被要求解决一些涉及区间或循环的问题。如果你不小心写了一个无限循环，它可能会导致页面崩溃。刷新页面会重新加载有问题的代码，课程实际上就无法使用了！

如果这种情况发生在你身上，你可以删除任何单独沙箱的代码(无自动保存, 不会有这种问题)。

提前对可能出现的问题表示歉意！

</Callout>
