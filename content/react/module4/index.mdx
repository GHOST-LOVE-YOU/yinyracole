---
title: 组件 API 设计
description: 我们如何构建我们的 React 应用程序，使其稳固、可扩展且令人愉悦？在本模块中，我们将学习如何构建我们的 React 应用程序的结构，以及如何构建强大而出色的组件。
---

我收到的最常见的问题之一是：

> 我如何创建可扩展的 React 应用程序？

在一个有数百个 React 组件的应用程序中工作，与在一个只有 6 个组件的待办事项应用中工作是完全不同的游戏。为了保持可维护性，我们需要不同的思维模型、不同的工具和不同的技术。

这就是本模块的全部内容。

我们将学习我在工作中使用的许多独立技术，以便在应用程序变得越来越复杂时保持可管理性。

我们还将获得新的思维模型，这些思维方式将帮助我们在应用程序中做出架构决策。

我对这个模块感到非常兴奋。让我们开始吧！

<Accordions>

<Accordion title='视频摘要' >

几年前，我的观点发生了变化，这改变了我对构建 React 应用程序的思考。这是本模块的基础。

假设我们正在构建一个推特机器人，它会发布由人工智能生成的图像。为了做到这一点，我们需要以某种方式与推特进行互动。

推特是一个封闭的系统。我们可以想象一个保护罩覆盖着他们的数据库、后端代码、支持团队等等。我们无法直接访问它。但我们可以访问 API，即应用程序编程接口。t

一个有趣的类比：这有点像餐厅里的服务员。在餐厅里，有一个厨师、一个灶台和原材料，但我们无法接触到这些。相反，我们与服务员互动，服务员将我们的订单送到厨房，然后带回我们的食物。服务员是我们与餐点之间的接口。

推特 API 是由一组开发人员构建和维护的。他们专门负责接口，决定 API 路由应该是什么，参数应该是什么，身份验证流程应该如何工作，我们拥有多少权限等等。

他们可以将这个界面设计得很好，也可以设计得很糟糕。

我们经常看到用于这个概念的术语是生产者和消费者。

这是软件中非常常见的事情。每当我们 npm install 一个包时，我们就会使用另一个开发者生产的一段代码。

几年前，我在 DigitalOcean 的组件库团队工作。我们构建了低级的 LEGO 积木，比如 Button 、 DatePicker 和 Modal 。

我意识到 React 组件是封闭系统，就像 Twitter 一样。

每个组件都是一组标记、样式和逻辑，从消费者的角度来看，这些内容都无法直接访问。相反，消费者通过 props 与 React 组件进行交互。

当我们创建 React 组件时，我们控制 props 的内容、props 的功能，以及哪些 props 不被包含……这是一种巨大的权力，是创造出真正优秀或糟糕事物的机会。

我们往往不会以这些方式思考，因为通常我们既是生产者也是消费者。我们同时扮演着这两种角色。

但是，在一个更大、长期的 React 项目中，这些东西真的很重要！可能需要一天的时间来制作一个 React 组件，但我们将会使用它多年。像 Button 这样的低级组件将会被不断使用。

如果我们在那个接口上做得很好——如果属性直观且易于使用——那么使用起来会非常愉快。

这也与一致性有关。我们的组件是否遵循相同的模式？

这通常是一个 React 应用程序是否可维护的区别。

消费者体验往往比生产者体验更重要，因此我们应该非常有意识地设置组件的道具(props)。

</Accordion>

</Accordions>
